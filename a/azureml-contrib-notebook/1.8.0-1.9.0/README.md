# Comparing `tmp/azureml_contrib_notebook-1.8.0-py3-none-any.whl.zip` & `tmp/azureml_contrib_notebook-1.9.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,31 +1,31 @@
-Zip file size: 29507 bytes, number of entries: 29
--rw-rw-rw-  2.0 fat      251 b- defN 20-Jun-22 17:21 azureml/__init__.py
--rw-rw-rw-  2.0 fat      251 b- defN 20-Jun-22 17:21 azureml/contrib/__init__.py
--rw-rw-rw-  2.0 fat     1596 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/__init__.py
--rw-rw-rw-  2.0 fat     5402 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_azureml_appinsights_handler.py
--rw-rw-rw-  2.0 fat     3811 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_azureml_handler.py
--rw-rw-rw-  2.0 fat     4009 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_cli_run_notebook_handler.py
--rw-rw-rw-  2.0 fat      252 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_constants.py
--rw-rw-rw-  2.0 fat     1961 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_notebook_handler.py
--rw-rw-rw-  2.0 fat     4591 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_notebook_run_config.py
--rw-rw-rw-  2.0 fat    13694 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_notebook_runner_step.py
--rw-rw-rw-  2.0 fat      427 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_papermill_deprecated_handler.py
--rw-rw-rw-  2.0 fat     1122 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/extension.py
--rw-rw-rw-  2.0 fat      374 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_engines/__init__.py
--rw-rw-rw-  2.0 fat     1132 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_engines/_utils.py
--rw-rw-rw-  2.0 fat     4094 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_engines/azureml_applicationinsights_engine.py
--rw-rw-rw-  2.0 fat     2460 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_engines/azureml_engine.py
--rw-rw-rw-  2.0 fat      221 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_handlers/__init__.py
--rw-rw-rw-  2.0 fat    19756 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_handlers/cli_run_notebook_script.py
--rw-rw-rw-  2.0 fat     4309 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_handlers/papermill_notebook_run_handler.py
--rw-rw-rw-  2.0 fat      643 b- defN 20-Jun-22 17:21 azureml/contrib/notebook/_scripts/kernel.js
--rw-rw-rw-  2.0 fat       63 b- defN 20-Jun-22 17:21 azureml_contrib_notebook-1.8.0.data/data/etc/jupyter/nbconfig/notebook.d/azureml_contrib_notebook.json
--rw-rw-rw-  2.0 fat      643 b- defN 20-Jun-22 17:21 azureml_contrib_notebook-1.8.0.data/data/share/jupyter/nbextensions/azureml/kernel.js
--rw-rw-rw-  2.0 fat      717 b- defN 20-Jun-22 17:21 azureml_contrib_notebook-1.8.0.dist-info/DESCRIPTION.rst
--rw-rw-rw-  2.0 fat     1021 b- defN 20-Jun-22 17:21 azureml_contrib_notebook-1.8.0.dist-info/LICENSE.txt
--rw-rw-rw-  2.0 fat     1228 b- defN 20-Jun-22 17:21 azureml_contrib_notebook-1.8.0.dist-info/metadata.json
--rw-rw-rw-  2.0 fat        8 b- defN 20-Jun-22 17:21 azureml_contrib_notebook-1.8.0.dist-info/top_level.txt
--rw-rw-rw-  2.0 fat       97 b- defN 20-Jun-22 17:21 azureml_contrib_notebook-1.8.0.dist-info/WHEEL
--rw-rw-rw-  2.0 fat     1847 b- defN 20-Jun-22 17:21 azureml_contrib_notebook-1.8.0.dist-info/METADATA
--rw-rw-rw-  2.0 fat     3096 b- defN 20-Jun-22 17:21 azureml_contrib_notebook-1.8.0.dist-info/RECORD
-29 files, 79076 bytes uncompressed, 24317 bytes compressed:  69.2%
+Zip file size: 29633 bytes, number of entries: 29
+-rw-rw-rw-  2.0 fat      251 b- defN 20-Jul-06 20:24 azureml/__init__.py
+-rw-rw-rw-  2.0 fat      251 b- defN 20-Jul-06 20:24 azureml/contrib/__init__.py
+-rw-rw-rw-  2.0 fat     1596 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/__init__.py
+-rw-rw-rw-  2.0 fat     5402 b- defN 20-Jul-06 20:25 azureml/contrib/notebook/_azureml_appinsights_handler.py
+-rw-rw-rw-  2.0 fat     3811 b- defN 20-Jul-06 20:25 azureml/contrib/notebook/_azureml_handler.py
+-rw-rw-rw-  2.0 fat     4009 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_cli_run_notebook_handler.py
+-rw-rw-rw-  2.0 fat      252 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_constants.py
+-rw-rw-rw-  2.0 fat     1961 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_notebook_handler.py
+-rw-rw-rw-  2.0 fat     4591 b- defN 20-Jul-06 20:25 azureml/contrib/notebook/_notebook_run_config.py
+-rw-rw-rw-  2.0 fat    13694 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_notebook_runner_step.py
+-rw-rw-rw-  2.0 fat      427 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_papermill_deprecated_handler.py
+-rw-rw-rw-  2.0 fat     1122 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/extension.py
+-rw-rw-rw-  2.0 fat      374 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_engines/__init__.py
+-rw-rw-rw-  2.0 fat     1132 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_engines/_utils.py
+-rw-rw-rw-  2.0 fat     4094 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_engines/azureml_applicationinsights_engine.py
+-rw-rw-rw-  2.0 fat     2460 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_engines/azureml_engine.py
+-rw-rw-rw-  2.0 fat      221 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_handlers/__init__.py
+-rw-rw-rw-  2.0 fat    20110 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_handlers/cli_run_notebook_script.py
+-rw-rw-rw-  2.0 fat     4309 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_handlers/papermill_notebook_run_handler.py
+-rw-rw-rw-  2.0 fat      643 b- defN 20-Jul-06 20:24 azureml/contrib/notebook/_scripts/kernel.js
+-rw-rw-rw-  2.0 fat       63 b- defN 20-Jul-06 20:24 azureml_contrib_notebook-1.9.0.data/data/etc/jupyter/nbconfig/notebook.d/azureml_contrib_notebook.json
+-rw-rw-rw-  2.0 fat      643 b- defN 20-Jul-06 20:24 azureml_contrib_notebook-1.9.0.data/data/share/jupyter/nbextensions/azureml/kernel.js
+-rw-rw-rw-  2.0 fat      717 b- defN 20-Jul-06 20:25 azureml_contrib_notebook-1.9.0.dist-info/DESCRIPTION.rst
+-rw-rw-rw-  2.0 fat     1021 b- defN 20-Jul-06 20:25 azureml_contrib_notebook-1.9.0.dist-info/LICENSE.txt
+-rw-rw-rw-  2.0 fat     1228 b- defN 20-Jul-06 20:25 azureml_contrib_notebook-1.9.0.dist-info/metadata.json
+-rw-rw-rw-  2.0 fat        8 b- defN 20-Jul-06 20:25 azureml_contrib_notebook-1.9.0.dist-info/top_level.txt
+-rw-rw-rw-  2.0 fat       97 b- defN 20-Jul-06 20:25 azureml_contrib_notebook-1.9.0.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat     1847 b- defN 20-Jul-06 20:25 azureml_contrib_notebook-1.9.0.dist-info/METADATA
+-rw-rw-rw-  2.0 fat     3096 b- defN 20-Jul-06 20:25 azureml_contrib_notebook-1.9.0.dist-info/RECORD
+29 files, 79430 bytes uncompressed, 24443 bytes compressed:  69.2%
```

## zipnote {}

```diff
@@ -54,35 +54,35 @@
 
 Filename: azureml/contrib/notebook/_handlers/papermill_notebook_run_handler.py
 Comment: 
 
 Filename: azureml/contrib/notebook/_scripts/kernel.js
 Comment: 
 
-Filename: azureml_contrib_notebook-1.8.0.data/data/etc/jupyter/nbconfig/notebook.d/azureml_contrib_notebook.json
+Filename: azureml_contrib_notebook-1.9.0.data/data/etc/jupyter/nbconfig/notebook.d/azureml_contrib_notebook.json
 Comment: 
 
-Filename: azureml_contrib_notebook-1.8.0.data/data/share/jupyter/nbextensions/azureml/kernel.js
+Filename: azureml_contrib_notebook-1.9.0.data/data/share/jupyter/nbextensions/azureml/kernel.js
 Comment: 
 
-Filename: azureml_contrib_notebook-1.8.0.dist-info/DESCRIPTION.rst
+Filename: azureml_contrib_notebook-1.9.0.dist-info/DESCRIPTION.rst
 Comment: 
 
-Filename: azureml_contrib_notebook-1.8.0.dist-info/LICENSE.txt
+Filename: azureml_contrib_notebook-1.9.0.dist-info/LICENSE.txt
 Comment: 
 
-Filename: azureml_contrib_notebook-1.8.0.dist-info/metadata.json
+Filename: azureml_contrib_notebook-1.9.0.dist-info/metadata.json
 Comment: 
 
-Filename: azureml_contrib_notebook-1.8.0.dist-info/top_level.txt
+Filename: azureml_contrib_notebook-1.9.0.dist-info/top_level.txt
 Comment: 
 
-Filename: azureml_contrib_notebook-1.8.0.dist-info/WHEEL
+Filename: azureml_contrib_notebook-1.9.0.dist-info/WHEEL
 Comment: 
 
-Filename: azureml_contrib_notebook-1.8.0.dist-info/METADATA
+Filename: azureml_contrib_notebook-1.9.0.dist-info/METADATA
 Comment: 
 
-Filename: azureml_contrib_notebook-1.8.0.dist-info/RECORD
+Filename: azureml_contrib_notebook-1.9.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## azureml/contrib/notebook/_handlers/cli_run_notebook_script.py

```diff
@@ -101,14 +101,16 @@
         if infra_args["history"]:
             from azureml.core import Run
             _log_scraps_from_notebook(destination_notebook, Run.get_context())
 
 
 def execute_notebook_process(notebook_spec, infra_args, papermill_args, notebook_args):
     """Execute notebook with Papermill from inside of a multiprocessing process."""
+    clean_process_for_notebook()
+
     steps = []
 
     if notebook_spec["preexec"]:
         steps.append({"source": notebook_spec["preexec"]})
 
     steps.append({"source": notebook_spec["notebook"], "output": notebook_spec["output"]})
 
@@ -192,14 +194,28 @@
 
         if failures:
             raise Exception("Notebook(s) failed: {}{}".format(
                 ", ".join(source for source, _ in failures),
                 "".join("\n\nException running {}:\n{}".format(source, error) for source, error in failures)))
 
 
+def clean_process_for_notebook():
+    """
+    Remove environment variables that we don't want notebooks to inherit.
+    """
+    vars_to_remove = [
+        "MLFLOW_RUN_ID",
+        "MLFLOW_TRACKING_URI"
+    ]
+
+    for var in vars_to_remove:
+        if var in os.environ:
+            del os.environ[var]
+
+
 def duplicate_ambient_secret(run, run_config):
     """
     Copy the ambient authentication secret, so a parent's cleanup doesn't interfere with the child.
 
     :param run: The parent run, used for reading/writing the secrets.
     :type run: azureml.core.Run
     :param run_config: A run config object, which will be updated in-place with the new secret name.
```

## Comparing `azureml_contrib_notebook-1.8.0.data/data/share/jupyter/nbextensions/azureml/kernel.js` & `azureml_contrib_notebook-1.9.0.data/data/share/jupyter/nbextensions/azureml/kernel.js`

 * *Files identical despite different names*

## Comparing `azureml_contrib_notebook-1.8.0.dist-info/DESCRIPTION.rst` & `azureml_contrib_notebook-1.9.0.dist-info/DESCRIPTION.rst`

 * *Files identical despite different names*

## Comparing `azureml_contrib_notebook-1.8.0.dist-info/LICENSE.txt` & `azureml_contrib_notebook-1.9.0.dist-info/LICENSE.txt`

 * *Files identical despite different names*

## Comparing `azureml_contrib_notebook-1.8.0.dist-info/metadata.json` & `azureml_contrib_notebook-1.9.0.dist-info/metadata.json`

 * *Files 2% similar despite different names*

### Pretty-printed

 * *Similarity: 0.9523809523809524%*

 * *Differences: {"'run_requires'": "{0: {'requires': {insert: [(0, 'azureml-core (~=1.9.0)'), (1, "*

 * *                   "'azureml-pipeline-core (~=1.9.0)')], delete: [1, 0]}}}",*

 * * "'version'": "'1.9.0'"}*

```diff
@@ -37,24 +37,24 @@
     "license": "Proprietary https://aka.ms/azureml-preview-sdk-license ",
     "metadata_version": "2.0",
     "name": "azureml-contrib-notebook",
     "requires_python": ">=3.5,<4",
     "run_requires": [
         {
             "requires": [
-                "azureml-core (~=1.8.0)",
-                "azureml-pipeline-core (~=1.8.0)",
+                "azureml-core (~=1.9.0)",
+                "azureml-pipeline-core (~=1.9.0)",
                 "ipykernel",
                 "ipython",
                 "papermill (<2)"
             ]
         },
         {
             "extra": "full",
             "requires": [
                 "nteract-scrapbook"
             ]
         }
     ],
     "summary": "UNKNOWN",
-    "version": "1.8.0"
+    "version": "1.9.0"
 }
```

## Comparing `azureml_contrib_notebook-1.8.0.dist-info/METADATA` & `azureml_contrib_notebook-1.9.0.dist-info/METADATA`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.0
 Name: azureml-contrib-notebook
-Version: 1.8.0
+Version: 1.9.0
 Summary: UNKNOWN
 Home-page: https://docs.microsoft.com/en-us/azure/machine-learning/service/
 Author: Microsoft Corp
 License: Proprietary https://aka.ms/azureml-preview-sdk-license 
 Platform: UNKNOWN
 Classifier: Development Status :: 3 - Alpha
 Classifier: Intended Audience :: Developers
@@ -16,16 +16,16 @@
 Classifier: Topic :: Scientific/Engineering :: Artificial Intelligence
 Classifier: Operating System :: Microsoft :: Windows
 Classifier: Operating System :: MacOS
 Classifier: Operating System :: POSIX :: Linux
 Requires-Python: >=3.5,<4
 Description-Content-Type: text/x-rst
 Provides-Extra: full
-Requires-Dist: azureml-core (~=1.8.0)
-Requires-Dist: azureml-pipeline-core (~=1.8.0)
+Requires-Dist: azureml-core (~=1.9.0)
+Requires-Dist: azureml-pipeline-core (~=1.9.0)
 Requires-Dist: ipython
 Requires-Dist: papermill (<2)
 Requires-Dist: ipykernel
 Provides-Extra: full
 Requires-Dist: nteract-scrapbook; extra == 'full'
 
 AzureML Contrib Notebook package
```

## Comparing `azureml_contrib_notebook-1.8.0.dist-info/RECORD` & `azureml_contrib_notebook-1.9.0.dist-info/RECORD`

 * *Files 6% similar despite different names*

```diff
@@ -11,19 +11,19 @@
 azureml/contrib/notebook/_papermill_deprecated_handler.py,sha256=dOL0OPHE5RrO-G9WuAvbk7a1i0k7BXkxjDg6jcwNO9c,427
 azureml/contrib/notebook/extension.py,sha256=TYxT2ysdmcNEdVB8Xut0JDg-pP3MAHA_2rDvuG1guZU,1122
 azureml/contrib/notebook/_engines/__init__.py,sha256=rU3S0SMpI6pBZ1J4-TMNWY_fpyKTGfMpzq1kksPm_G4,374
 azureml/contrib/notebook/_engines/_utils.py,sha256=sPCKU_tIfH_wrt2DT9SCLRCuCs4tUP1Vj5S4-k3hDLc,1132
 azureml/contrib/notebook/_engines/azureml_applicationinsights_engine.py,sha256=vBto18sKaDabBhBflpg_0NW2TIPUzZ3u_TkqH9Ve_ao,4094
 azureml/contrib/notebook/_engines/azureml_engine.py,sha256=wvDpwUdSL3cUtRdFacH4mv8cwfmjUTrI6s4CFSKgnJM,2460
 azureml/contrib/notebook/_handlers/__init__.py,sha256=uLYx7_s2bq3Nx0OtSs78-FpWcZvMLp3__YAPWjBpqgs,221
-azureml/contrib/notebook/_handlers/cli_run_notebook_script.py,sha256=IMfqA6M4_gBp53jkahe-PBuc2-2BLDpP26KGDPnyOlQ,19756
+azureml/contrib/notebook/_handlers/cli_run_notebook_script.py,sha256=RM1KJSJBaKAXppuzC9xDHTWdNb1hMVEu0KacrPDd68s,20110
 azureml/contrib/notebook/_handlers/papermill_notebook_run_handler.py,sha256=0cSH9VTTZzQJPtAl-ZowQiLLi5aixoE8le4TxmniMzc,4309
 azureml/contrib/notebook/_scripts/kernel.js,sha256=T3GU04SNYmmZJL6SxJR6_2OyWBWozlTldmG8P8Lm_oY,643
-azureml_contrib_notebook-1.8.0.data/data/etc/jupyter/nbconfig/notebook.d/azureml_contrib_notebook.json,sha256=EmKP_ep8W4CAK400S8Nah1HdAMvV8ektL2xIgr3AqXw,63
-azureml_contrib_notebook-1.8.0.data/data/share/jupyter/nbextensions/azureml/kernel.js,sha256=T3GU04SNYmmZJL6SxJR6_2OyWBWozlTldmG8P8Lm_oY,643
-azureml_contrib_notebook-1.8.0.dist-info/DESCRIPTION.rst,sha256=cF85Amn-ytars9jEF9PM26kjsQogNJpe912iibx_cYI,717
-azureml_contrib_notebook-1.8.0.dist-info/LICENSE.txt,sha256=FOfkEEz4uS7g278F9Rq12rqKF3lLyBUZhVpLetuZrTg,1021
-azureml_contrib_notebook-1.8.0.dist-info/METADATA,sha256=kCZ8LZBoRD0fNKXQ-oTQ2TTKmzK8Z7GVD2TnkxIK9Lw,1847
-azureml_contrib_notebook-1.8.0.dist-info/RECORD,,
-azureml_contrib_notebook-1.8.0.dist-info/WHEEL,sha256=Vlaj2XNMTTJ893zWX-JvKeZUIs7q5E7d7Gise2Vouzc,97
-azureml_contrib_notebook-1.8.0.dist-info/metadata.json,sha256=NBPuz-NGsusvCUCiJ3w-6Pkx2M-cXZ1vp9QffgoWUmY,1228
-azureml_contrib_notebook-1.8.0.dist-info/top_level.txt,sha256=ZOeEa0TAXo6i5wOjwBoqfIGEuxOcKuscGgNSpizqREY,8
+azureml_contrib_notebook-1.9.0.data/data/etc/jupyter/nbconfig/notebook.d/azureml_contrib_notebook.json,sha256=EmKP_ep8W4CAK400S8Nah1HdAMvV8ektL2xIgr3AqXw,63
+azureml_contrib_notebook-1.9.0.data/data/share/jupyter/nbextensions/azureml/kernel.js,sha256=T3GU04SNYmmZJL6SxJR6_2OyWBWozlTldmG8P8Lm_oY,643
+azureml_contrib_notebook-1.9.0.dist-info/DESCRIPTION.rst,sha256=cF85Amn-ytars9jEF9PM26kjsQogNJpe912iibx_cYI,717
+azureml_contrib_notebook-1.9.0.dist-info/LICENSE.txt,sha256=FOfkEEz4uS7g278F9Rq12rqKF3lLyBUZhVpLetuZrTg,1021
+azureml_contrib_notebook-1.9.0.dist-info/METADATA,sha256=dx6X9xLIBS0NOYfdY1KvsA7Ap15jhmLYB8lYIO-BFFc,1847
+azureml_contrib_notebook-1.9.0.dist-info/RECORD,,
+azureml_contrib_notebook-1.9.0.dist-info/WHEEL,sha256=Vlaj2XNMTTJ893zWX-JvKeZUIs7q5E7d7Gise2Vouzc,97
+azureml_contrib_notebook-1.9.0.dist-info/metadata.json,sha256=VGXauUoNTPY9xwni35ZdCcpO96R6WDm8Vm0B3N4Lekw,1228
+azureml_contrib_notebook-1.9.0.dist-info/top_level.txt,sha256=ZOeEa0TAXo6i5wOjwBoqfIGEuxOcKuscGgNSpizqREY,8
```

